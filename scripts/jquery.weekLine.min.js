function nextDay(e){return function(t){var n=new Date(t||new Date);return new Date(n.getTime()+((e-n.getDay()+7)%7+1)*864e5)}}(function(e){function n(e,t){var n=new Date(e),n=new Date(n.setDate(n.getDate()+Number(t))),r=n.getDate(),i=n.getMonth()+1,s=n.getFullYear();return s+"/"+(i<10?"0"+i:i)+"/"+(r<10?"0"+r:r)}e.fn.weekLine=function(n){if(t[n]){return t[n].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof n==="object"||!n){return t.init.apply(this,arguments)}else{e.error("Method "+n+" does not exist on jQuery.weekLine")}};e.fn.weekLine.defaultSettings={dayLabels:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],mousedownSel:true,startDate:null,singleDaySelect:false,allowDeselect:true,theme:"dark",onChange:null};var t={init:function(t){return this.each(function(){function f(t){if(n.settings.singleDaySelect){e(t).siblings().removeClass(s)}if(n.settings.allowDeselect||!e(t).hasClass(s)){e(t).toggleClass(s)}if(e.isFunction(n.settings.onChange)){n.settings.onChange.call(n)}}var n=e(this),r=false,s="selectedDay",o="",u="";n.settings=e.extend(true,{},e.fn.weekLine.defaultSettings,t||{});var a=n.settings.theme;for(i in n.settings.dayLabels){u+="<a href='#"+i+(a=="jquery-ui"?"' class='ui-state-default'>":"'>")+n.settings.dayLabels[i]+"</a>"}if(a=="jquery-ui"){o="ui-widget ui-WeekDays";s="ui-state-active"}else{o="cleanslate weekDays-"+a}n.settings.selectedDay=s;n.data("weekLine",n.settings);n.addClass(o).append(u).mouseup(function(){r=false;return false});$days=n.children().bind("mousedown",function(){if(n.settings.mousedownSel){r=true}f(this);return false}).bind("mouseenter",function(){if(!r){return false}f(this);return false});if(a=="jquery-ui"){$days.bind("hover",function(){e(this).toggleClass("ui-state-hover")})}})},getSelected:function(t,r){var i=e(this).data("weekLine"),s=null,o="";this.children().each(function(){$day=e(this);if($day.hasClass(i.selectedDay)){switch(t){case"indexes":o+=$day.attr("href").substr(1)+",";break;case"dates":o+=n(r?r:i.startDate?i.startDate:new Date,$day.attr("href").substr(1))+",";break;case"descriptive":if(s==null){o=$day.html()}else{if($day.attr("href").substr(1)-s.attr("href").substr(1)==1){var u=o.split(",")[o.split(",").length-1].split("-");if(u.length>1){o=o.replace(u[u.length-1],$day.html())}else{o+="-"+$day.html()}}else{o+=", "+$day.html()}}s=$day;break;case"labels":default:o+=$day.html()+",";break}}});return o.replace(/,+$/,"")},setSelected:function(t){var n=e(this),r=n.data("weekLine"),s=n.children(),o=t.split(",");s.removeClass(r.selectedDay);for(i in o){s.filter(isNaN(o[i])?"a:contains('"+o[i]+"')":"a[href='#"+o[i]+"']").addClass(r.selectedDay)}}}})(jQuery)